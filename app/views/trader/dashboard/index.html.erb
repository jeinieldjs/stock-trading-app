<% if @user.status == 'pending' %>
<div class="trader-dashboard mt-4">

<h1>Welcome <%= @user.first_name %> <%= @user.last_name %></h1>

 
  <div class="alert alert-warning mt-3">
 
    <p>Your trader status is currently <strong class="text-uppercase font-weight-bold">PENDING</strong>.</p>
    <p>Please wait for an email confirmation to be sent to <%= @user.email %>.</p>
    <p>Thank you for your patience!</p>
  </div>

  <%= link_to 'Sign Out', destroy_user_session_path, data: { turbo_method: :delete }, class: 'btn btn-danger mt-3' %>
<% else %>

<div class="wrapper">
<div class="sidebar">
  <div class="logo-container">
    <%= image_tag("logo.png", alt: "logo", class: "admin-logo", style: "max-width: 90px;") %>
    <span class="website-name">Stock Harbor</span>
  </div>
  <div class="menu-items">
  <%# TEMP DESIGN for balance functionality %>
  <p>Current Balance: <%= number_to_currency(current_user.balance) %></p>
  <%= link_to 'Top Up', top_up_trader_dashboard_index_path %>
  <%# end TEMP DESIGN for balance functionality %>

  <%#  TEMP DESIGN for transactions  %>
  <%= link_to 'Trade', trader_transactions_path, class: 'custom-link buy-stocks' %>

  <%# TEMP DESIGN for transactions
  <%= link_to 'Buy Stocks', '#', class: 'custom-link buy-stocks' %>
  <%#= link_to 'Sell Stocks', '#', class: 'custom-link sell-stocks' %>

  <%= link_to 'My Portfolio', '#' %>
  <%= link_to 'Transaction Page', '#' %>
  <%= link_to 'Sign Out', destroy_user_session_path, data: { turbo_method: :delete } %>
</div>


</div>

<!-- Main Content -->
<div class="traders-wrapper">
  <div class="traders-content">

    <!-- Add Money Form -->
    <div class="add-money-form">
      <h2>Add Money to Your Account</h2>
      <%= form_for :money, url: '#' do |f| %>
        <!-- Form fields go here -->
      <% end %>
    </div>

    <!-- Account Summary -->
    <div class="account-summary">
      <h2>Account Summary</h2>
      <!-- Account summary details go here -->
    </div>

    <!-- Open Positions -->
    <div class="open-positions">
      <h2>Open Positions</h2>
      <ul>
        <li>Stock XYZ: 15 shares</li>
        <li>Stock ABC: 8 shares</li>
        <!-- Add more open positions as needed -->
      </ul>
    </div>

    <!-- Market News -->
    <div class="market-news">
      <h2>Market News</h2>
      <!-- Market news details go here -->
    </div>

    <!-- Trade History -->
    <div class="trade-history">
      <h2>Trade History</h2>
      <table>
        <!-- Trade history table structure goes here -->
      </table>
    </div>

    <!-- Stocks Section -->
    
  
   <h4>Search stock: </h4>
  <%= form_tag(trader_dashboard_index_path, method: :get) do %>
      <%= text_field_tag(:search, params[:search]) %>
      <%= submit_tag ("Search") %>
  <% end %>

  <% if @stock %>
    <table class='table-fixed'>
      <thead>
        <tr>
          <th>Stock</th>
          <th>Latest Price</th>
          <th>Change</th>
          <th>High</th>
          <th>Low</th>
          <th>Action</th>
          <th></th>
        </tr>
      </thead>
      <%= render partial: 'stock', locals: { stock: @stock } %>
    </table>
  <% else %>
    <h4> No record found </h4>
  <% end %> <br/>
    
    

  </div>
</div>


































  <% end %>

  

  
</div>
